function mostrarModal(e,t,o,n,a){let r='<canvas id="grafica" width="300" height="400"></canvas>';$("#grafica").remove(),$("#canvasContainer").append(r);let i=parseJSON(a),l=cotizar(n);$("#modal-pQuotation").text("$  "+l),TituloPerfume.innerHTML=o,modalImage.src=e,modalDescription.innerHTML=t,$("#demo02").click(),setTimeout(()=>{PintarGrafica(i)},200)}const perfumesContainer=document.getElementById("perfumes-container"),modal=document.getElementById("modal"),modalImage=document.getElementById("modal-image"),modalImageQuotation=document.getElementById("modal-imageQuotation"),TituloPerfume=document.getElementById("TituloPerfume"),TituloPerfumeQuotation=document.getElementById("TituloPerfumeQuotation"),modalDescription=document.getElementById("modal-description"),modalClose=document.getElementById("modal-close");$("#demo02").animatedModal({animatedIn:"zoomIn",animatedOut:"bounceOut",color:"#fff",beforeOpen:function(){setTimeout(()=>{$("#modal-02").scrollTop(0)},100)},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}),window.history.pushState("forward",null,"./"),$(window).on("popstate",function(){$(".closebt").click(),window.history.pushState("forward",null,"./"),setTimeout(()=>{window.scroll("",localStorage.yAxisLocation)},100)}),perfumesContainer.addEventListener("click",e=>{localStorage.setItem("yAxisLocation",window.scrollY);const t=e.target.closest(".perfume");if(t){const e=t.querySelector(".perfume-name").innerHTML,o=t.querySelector(".perfume-image"),n=t.querySelector(".perfume-p").attributes.ptv.value,a=t.querySelector(".perfume-p").attributes.seassons.value,r=t.querySelector(".perfume-description").innerHTML;mostrarModal(o.src,r,e,n,a)}});const searchInput=document.getElementById("search-input");searchInput.addEventListener("input",function(){const e=searchInput.value.toLowerCase();for(let t=0;t<perfumesContainer.children.length;t++){const o=perfumesContainer.children[t],n=o.querySelector(".perfume-name").textContent.toLowerCase();n.includes(e)?o.style.display="block":o.style.display="none"}});const cotizar=e=>{let t=e.split("|"),o=parseInt(t[0]),n=parseInt(t[1]),a=parseInt(Math.pow(6,3)-16),r=.75,i=parseInt(Math.round((o+a)/r)),l=Math.round(i/n)+10;return l},parseJSON=e=>{let t=e.replaceAll("'",'"');return t},PintarGrafica=e=>{let t=JSON.parse(e);var o=Object.keys(t),n=Object.values(t),a=["#00DFA2","#DB005B","#F79327","#00C4FF"],r=document.getElementById("grafica").getContext("2d");new Chart(r,{type:"pie",data:{labels:o,datasets:[{label:"Porcentaje de usabilidad ",data:n,backgroundColor:a}]},options:{responsive:!1,maintainAspectRatio:!1,plugins:{legend:{display:!1,onClick:function(){},onHover:function(){}},tooltip:{filter:function(){return!0}}}}})};